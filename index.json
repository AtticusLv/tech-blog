[{"categories":["技术"],"content":" 日志级别包括trace, debug, info, warning, error, critical, off ","date":"2023-03-02","objectID":"/tech/cloudnative/istio_proxy_log_level/:0:0","tags":["istio"],"title":"调整Istio Proxy日志级别","uri":"/tech/cloudnative/istio_proxy_log_level/"},{"categories":["技术"],"content":"istioctl命令动态调整 istio默认使用的warning级别的日志，可以通过istioctl命令来指定sidecar修改日志级别 istioctl -n [namespace] proxy-config log [podname] --level debug 可以更细粒度的控制proxy的各个组件的日志级别 istioctl -n [namespace] proxy-config log [podname] --level grpc:trace,config:debug 当然，proxy-config也可以缩写，istioctl都可以识别到的 istioctl -n [namespace] pc log [podname] --level debug envoy有提供admin的api，直接进入到容器内容curl调用接口来调整也是可以的 kubectl exec -n [namespace] [podname] -c istio-proxy -- curl -XPOST -s -o /dev/null http://localhost:15000/logging?level=debug 这里istio-proxy是istio部署sidecar时固定的容器名字 可以通过一下命令查看帮助文档 istioctl pc log --help ","date":"2023-03-02","objectID":"/tech/cloudnative/istio_proxy_log_level/:1:0","tags":["istio"],"title":"调整Istio Proxy日志级别","uri":"/tech/cloudnative/istio_proxy_log_level/"},{"categories":["技术"],"content":"annotation方式调整 可以在k8s yaml配置文件中通过annotation的方式配置日志级别 template: metadata: annotations: \"sidecar.istio.io/logLevel\": debug # 可选: trace, debug, info, warning, error, critical, off ","date":"2023-03-02","objectID":"/tech/cloudnative/istio_proxy_log_level/:2:0","tags":["istio"],"title":"调整Istio Proxy日志级别","uri":"/tech/cloudnative/istio_proxy_log_level/"},{"categories":["技术"],"content":"全局配置 istio配置都是在configmap中的，可以通过修改configmap来修改全局的proxy日志级别： kubectl -n istio-system edit configmap istio-sidecar-injector 修改values里面的global.proxy.logLevel字段即可 也可以使用istioctl来配置全局proxy日志级别 istioctl install --set profile=demo --set values.global.proxy.logLevel=debug ","date":"2023-03-02","objectID":"/tech/cloudnative/istio_proxy_log_level/:3:0","tags":["istio"],"title":"调整Istio Proxy日志级别","uri":"/tech/cloudnative/istio_proxy_log_level/"},{"categories":["技术"],"content":"配置envoy componentLogLevel 我们可以在pod中指定annotation来设置envoy内部各个组件的日志级别 template: metadata: annotations: \"sidecar.istio.io/componentLogLevel\": \"ext_authz:trace,filter:debug\" 可以参考：https://www.envoyproxy.io/docs/envoy/latest/operations/cli#cmdoption-component-log-level 最终该配置会作为envoy--component-log-level启动参数 ","date":"2023-03-02","objectID":"/tech/cloudnative/istio_proxy_log_level/:4:0","tags":["istio"],"title":"调整Istio Proxy日志级别","uri":"/tech/cloudnative/istio_proxy_log_level/"},{"categories":["技术"],"content":"EnvoyFilter内部结构 ","date":"2023-03-02","objectID":"/tech/cloudnative/istio-envoyfilter/:0:0","tags":["isito"],"title":"Istio Envoyfilter","uri":"/tech/cloudnative/istio-envoyfilter/"},{"categories":null,"content":" 工欲善其事必先利其器 ","date":"2023-03-02","objectID":"/tech/other/coding_ide/:0:0","tags":["ide"],"title":"编程开发工具","uri":"/tech/other/coding_ide/"},{"categories":null,"content":"IDE 👍 Intellij IDEA Java、GO、Python等编程工具 👍 Visual Studio 前端开发编程IDE，可以配合各种插件使用 ","date":"2023-03-02","objectID":"/tech/other/coding_ide/:1:0","tags":["ide"],"title":"编程开发工具","uri":"/tech/other/coding_ide/"},{"categories":null,"content":"Database 👍 Sequel Ace 前身Sequel Pro已经不再维护了，最新孵化的Sequel Ace Navigate 商业化软件，地址google之 👍 Medis redis管理可视化工具 开源版代码 https://github.com/luin/medis DBeaver 数据库可视化管理工具，包括主流的mysql、postgresql、mariadb、mongodb等 ","date":"2023-03-02","objectID":"/tech/other/coding_ide/:2:0","tags":["ide"],"title":"编程开发工具","uri":"/tech/other/coding_ide/"},{"categories":null,"content":"Test \u0026 Debug Charles Wireshark 分析抓包信息工具 👍 Postman API测试工具 ","date":"2023-03-02","objectID":"/tech/other/coding_ide/:3:0","tags":["ide"],"title":"编程开发工具","uri":"/tech/other/coding_ide/"},{"categories":null,"content":"Web Brower 👍 Chrome Firefox Min ","date":"2023-03-02","objectID":"/tech/other/coding_ide/:4:0","tags":["ide"],"title":"编程开发工具","uri":"/tech/other/coding_ide/"},{"categories":null,"content":"Text Editor 👍 Typora Notion ​ 存储在云端，提供手机端、电脑端软件 语雀 钉钉 石墨 ","date":"2023-03-02","objectID":"/tech/other/coding_ide/:5:0","tags":["ide"],"title":"编程开发工具","uri":"/tech/other/coding_ide/"},{"categories":["技术"],"content":"技术新闻博客类 名称 链接 描述 DB-Engines https://db-engines.com/ 数据库相关、数据库排名 APM Digest https://www.apmdigest.com/ APM监控相关资料和新闻、趋势 DevOps Digest https://www.devopsdigest.com/ devops相关资料和新闻、趋势 CNCF https://www.cncf.io/ 云原生基金会 InfoQ https://www.infoq.cn/ https://infoq.com/ InfoQ Hacker News https://news.ycombinator.com/ Linux www.linux.com topics and blog related with Linux System Thoughtworks https://www.thoughtworks.com/insights/technology Thoughtworks insight 教程系列 名称 链接 描述 Baeldung https://www.baeldung.com/spring-tutorial 一系列初级教程，比如spring、java、mesh等 Javapoint系列教程 https://www.javatpoint.com/operating-system 除了java，还有操作系统的初级教程 技术大佬博客 名称 链接 描述 Bilgin Ibryam http://www.ofbizian.com/ 云原生布道，架构 Martin Fowler https://martinfowler.com/ ThoughtWorks 微服务 敖小剑 https://skyao.io/ 国内 云原生布道 赵化冰 https://www.zhaohuabing.com/ 国内 云原生布道 Brendan Gregg https://www.brendangregg.com/ 内核性能 Thorsten Ball https://thorstenball.com/ Kamil Grzybek https://www.kamilgrzybek.com/ Modular Monolith System Architecture ROC https://imroc.cc/ 云原生 Mark Zhu https://blog.mygraphql.com/zh/ 云原生 Jimmy Sone https://jimmysong.io/ 云原生 阮一峰 http://www.ruanyifeng.com/blog/ 每周五精选内容 科技公司博客 名称 链接 描述 美团 https://tech.meituan.com Shopify https://shopify.engineering ","date":"2023-03-02","objectID":"/posts/%E6%8A%80%E6%9C%AF%E5%8D%9A%E5%AE%A2%E6%94%B6%E9%9B%86/:0:0","tags":["博客"],"title":"技术新闻博客收集","uri":"/posts/%E6%8A%80%E6%9C%AF%E5%8D%9A%E5%AE%A2%E6%94%B6%E9%9B%86/"},{"categories":["Linux"],"content":"USE方法定位性能问题 https://www.brendangregg.com/usemethod.html 实践 https://blog.mygraphql.com/zh/posts/low-tec/network/tcp-flow-control-part1/ ","date":"2023-03-01","objectID":"/tech/architecture/use_method/:1:0","tags":["USE"],"title":"USE方法定位Linux性能问题","uri":"/tech/architecture/use_method/"},{"categories":["云原生"],"content":"kubectl指令 帮助 kubectl --help 查看apiVersion kubectl api-versions 创建pod kubectl create -f [file.yaml] -n [namespace] 应用配置 kubectl apply -f [file.yaml] -n [namespace] 删除资源 kubectl delete -f [file.yaml] -n [namespace] 查看pods kubectl get pods 查看service kubectl get services 查看deployment kubectl get deployments 查看详细信息 (后面加-o wide) kubectl get pods -o wide kubectl get services -o wide kubecetl get deployments -o wide 进入到指定pod kubectl exec -it [pod name] -n [namespace] -- bash # desprecated kubectl exec -it [pod name] bash 查看指定容器log kubectl logs -f service-a-v1-97966586b-cg6rh -n [namespace] -c istio-init 查看k8s当前集群配置信息 kubectl config view 查看pod里容器数 kubectl get pods [pod名称] -o jsonpath={.spec.initContainers[*].name} -n [namespace] ","date":"2023-03-01","objectID":"/tech/cloudnative/kubernetes/kubectl/:1:0","tags":["kubernetes","k8s"],"title":"kubectl command","uri":"/tech/cloudnative/kubernetes/kubectl/"},{"categories":["Hugo"],"content":" Tips： 本站点针对技术文档做过调整，写作方式只针对本博客 Hugo初始化搭建 官网：https://gohugo.io/ ","date":"2023-02-28","objectID":"/posts/hugo/:0:0","tags":["Hugo"],"title":"Hugo写作指南","uri":"/posts/hugo/"},{"categories":["Hugo"],"content":"安装Hugo 安装方式有如下两种： 使用brew工具安装（国内镜像源一般都不是最新版本，有些新的主题无法使用） brew install hugo 直接下载release文件绑定到PATH上 最新的release包可以在Hugo releases拿到 ","date":"2023-02-28","objectID":"/posts/hugo/:1:0","tags":["Hugo"],"title":"Hugo写作指南","uri":"/posts/hugo/"},{"categories":["Hugo"],"content":"安装Theme git submodule add https://github.com/AtticusLv/FixIt themes/FixIt ","date":"2023-02-28","objectID":"/posts/hugo/:2:0","tags":["Hugo"],"title":"Hugo写作指南","uri":"/posts/hugo/"},{"categories":["Hugo"],"content":"本地调试 hugo server 编译静态文件，生成目录为/public hugo 创建日常博客 只文字版 hugo new posts/xxx.md 图文版 hugo new posts/xxx/index.md 使用typora编辑时，会自动在posts/xxx/目录下增加相关图片目录 创建技术文档 只文字版 hugo new tech/[catalog]/xxx.md 图文版 hugo new tech/[catalog]/xxx/index.md ","date":"2023-02-28","objectID":"/posts/hugo/:3:0","tags":["Hugo"],"title":"Hugo写作指南","uri":"/posts/hugo/"},{"categories":["Hugo"],"content":"增加catalog分类 在layouts/tech/tech.html模板中，增加了下面的代码，可以根据文章中 catalog 字段来分类，这样让技术文章就具备层级结构了 tech.html中内容 ..... \u003c!-- 显示所有tech下的文档 --\u003e {{- $curpages := where .Site.Pages \"Type\" \"tech\" -}} \u003c!-- 根据catalog字段内容分类 --\u003e {{- $pages := $curpages.GroupByParam \"catalog\" -}} ..... 在tech目录下new出来的文章，会根据tech的模板，自动加上catalog字段 ","date":"2023-02-28","objectID":"/posts/hugo/:4:0","tags":["Hugo"],"title":"Hugo写作指南","uri":"/posts/hugo/"},{"categories":["Hugo"],"content":"如何在1级标题栏【技术文档】增加2级目录 以【cloudnative】举例 在tech下创建目录/tech/cloudnative /tech/cloudnative下创建 _index.md 文件，可以手动创建，也可以用命令行创建，内容如下： --- title: \"云原生目录\" layout: cloudnative hidden: true type: cloudnative summary: 历史文章按照年月归档. url: /tech/cloudnative menu: main: title: 架构文档 parent: tech params: icon: fa-brands fa-readme catalog: 云原生 --- 需要注意catalog、layout和type字段，其中menu是用来在1级标题栏下增加2级标题栏的主要代码 在layouts下创建目录/tech/cloudnative，创建文件cloudnative.html，内容可以从posts模板或者其他地方模板下复制过来，内容略 更新Theme样式 站点样式采用 FixIt，因为有部分样式要调整，已fork到 https://github.com/AtticusLv/FixIt git submodule update --remote --merge 使用bash一键提交 编辑bash脚本./deploy.sh一键提交git ./deploy.sh \"[commit content]\" 脚本内容如下： #!/bin/bash # date time currentDateTime=`date '+%Y-%m-%d %H:%M:%S'` commitMsg=$currentDateTime\" \"$1 echo \"提交commit: \"${commitMsg} git add . git commit -m \"${commitMsg}\" git pull git status echo \"git add/commit/pull done...\" # push to remote main branch git push -u origin main 注意：使用前需要给脚本添加权限 chmod 755 deploy.sh 剩余未完成工作 搜索功能 代码块行数和复制功能 tech下catalog跳转 tech下catalog分页，列表过多展示问题 ","date":"2023-02-28","objectID":"/posts/hugo/:5:0","tags":["Hugo"],"title":"Hugo写作指南","uri":"/posts/hugo/"},{"categories":["Linux"],"content":"apt-get install是应用程序管理器，用于一键安装软件包，与源码安装不同的是，该指令会自动检测并安装依赖，而且用apt-get安装的包都是成熟的软件包，基本不存在安装包有严重bug或者文件缺失的情况。 1、首先执行如下命令，更新相关资源 apt-get update 将所有包的来源更新，也就是提取最新的包信息，这一命令使用率非常高。 2、安装telnet apt-get install telnet 3、安装curl apt-get install curl 4、安装ifconfig apt-get install net-tools 5、安装vim apt-get install vim 6、安装ping apt-get install inetutils-ping ","date":"2023-02-27","objectID":"/tech/linux/apt-get/:0:0","tags":["apt-get"],"title":"使用apt-get安装工具","uri":"/tech/linux/apt-get/"},{"categories":["技术"],"content":"System Architecture Collection ","date":"2023-02-26","objectID":"/tech/architecture/system_architecture/:0:0","tags":["架构"],"title":"System Architecture Collection","uri":"/tech/architecture/system_architecture/"},{"categories":["技术"],"content":"Theories ","date":"2023-02-26","objectID":"/tech/architecture/system_architecture/:1:0","tags":["架构"],"title":"System Architecture Collection","uri":"/tech/architecture/system_architecture/"},{"categories":["技术"],"content":"TOGAF https://pubs.opengroup.org/architecture/togaf9-doc/arch/ ","date":"2023-02-26","objectID":"/tech/architecture/system_architecture/:1:1","tags":["架构"],"title":"System Architecture Collection","uri":"/tech/architecture/system_architecture/"},{"categories":["技术"],"content":"如何构建大型分布式系统 https://icyfenix.cn/ ","date":"2023-02-26","objectID":"/tech/architecture/system_architecture/:1:2","tags":["架构"],"title":"System Architecture Collection","uri":"/tech/architecture/system_architecture/"},{"categories":["技术"],"content":"Modular Monolith System https://www.kamilgrzybek.com/ ","date":"2023-02-26","objectID":"/tech/architecture/system_architecture/:1:3","tags":["架构"],"title":"System Architecture Collection","uri":"/tech/architecture/system_architecture/"},{"categories":["技术"],"content":"Multi-Runtime Microservices Architecture mecha架构 https://www.infoq.com/articles/multi-runtime-microservice-architecture/ ","date":"2023-02-26","objectID":"/tech/architecture/system_architecture/:1:4","tags":["架构"],"title":"System Architecture Collection","uri":"/tech/architecture/system_architecture/"},{"categories":["技术"],"content":"架构模板 arc42 https://arc42.org/overview ","date":"2023-02-26","objectID":"/tech/architecture/system_architecture/:2:0","tags":["架构"],"title":"System Architecture Collection","uri":"/tech/architecture/system_architecture/"},{"categories":["技术"],"content":"Common System Solutions ","date":"2023-02-26","objectID":"/tech/architecture/system_architecture/:3:0","tags":["架构"],"title":"System Architecture Collection","uri":"/tech/architecture/system_architecture/"},{"categories":["技术"],"content":"Reference Open Group Library https://publications.opengroup.org/ provide standards, guides, webinars, white papers about IT architecture and system design. 《架构师图谱》https://blog.xstudio.mobi/a/230.html ","date":"2023-02-26","objectID":"/tech/architecture/system_architecture/:4:0","tags":["架构"],"title":"System Architecture Collection","uri":"/tech/architecture/system_architecture/"},{"categories":null,"content":"在构建docker镜像时遇到 =\u003e ERROR [internal] load metadata for docker.io/library/openjdk:8u252-jdk-slim 直接在mac上拉取镜像发现拉不到，换了一个平台架构发现镜像是存在的 docker pull openjdk:8u252-jdk-slim --platform linux/x86_64 # 拉取镜像的过程 8u252-jdk-slim: Pulling from library/openjdk 8559a31e96f4: Already exists 65306eca6b8e: Already exists b8f37a6e9e9b: Already exists 33231475bae0: Already exists Digest: sha256:3826479f6ca03bbd11e1e12eb78b856f90bf7cea0f534f7204854c82fd89eda2 Status: Downloaded newer image for openjdk:8u252-jdk-slim docker.io/library/openjdk:8u252-jdk-slim 最新的 Docker Desktop for Mac M1 版本，已经为我们集成了一个实验性的工具buildx，通过它，可以编译成各种不同平台架构下的镜像，buildx目前支持的平台架构可以通过命令 docker buildx ls 来查看 可以使用下面的命令构建出符合当前机器架构的镜像版本 docker buildx build --platform=linux/amd64 . [container name] 加tag的方式 docker buildx build --platform=linux/amd64 -t keruyun-registry.cn-hangzhou.cr.aliyuncs.com/keruyun/keruyun-sidecar-agent:r154 . ","date":"2023-01-02","objectID":"/tech/other/mac_m1_build_docker_image/:0:0","tags":["docker"],"title":"Mac M1上构建docker镜像","uri":"/tech/other/mac_m1_build_docker_image/"}]